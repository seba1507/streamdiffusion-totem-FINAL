# requirements.txt (Golden Image Configuration - FINAL VERSION)

# Esta combinación de versiones es estable y probada para StreamDiffusion.
# Fijamos cada dependencia para evitar que pip tome malas decisiones.

# Base de PyTorch
--extra-index-url https://download.pytorch.org/whl/cu121
torch==2.1.1+cu121
torchvision==0.16.1+cu121
triton==2.1.0

# XFormers compatible con la versión de torch
xformers==0.0.23

# Ecosistema de Hugging Face
diffusers==0.24.0
transformers==4.36.2
accelerate==0.25.0
huggingface_hub==0.19.4
safetensors==0.4.1

# StreamDiffusion desde Git
git+https://github.com/cumulo-autumn/StreamDiffusion.git@main#egg=streamdiffusion[tensorrt]

# Herramientas de TensorRT con versiones FIJADAS
polygraphy==0.49.0
onnx==1.15.0
onnx-graphsurgeon==0.3.27
# No instalamos 'tensorrt' ya que viene con el sistema

# Frameworks web y otras utilidades
fastapi==0.111.0
uvicorn[standard]==0.29.0
websockets==12.0
pillow==10.1.0
opencv-python-headless==4.8.1.78
scipy==1.11.4
